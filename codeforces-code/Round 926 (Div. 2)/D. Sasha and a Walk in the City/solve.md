# 题解
> 吐槽：这场cf的题目不知道是不是因为我的语言能力问题，一道题看好几次才能看懂

重新描述一下题目要求，首先有n个点，n-1条边，形成一个树。
你可以选择任意个点作为红点，选择后需要满足：
树上任意一段路径都最多包含两个点。
满足条件为有效选择，问一共有几种选择方法。


对于树这样的选择种类数量，通常进行了多项叠加，应当想到这是一道DP的题目。对于DP来说，应当记录不同位置，不同情况条件下的特征值。
不同位置也就是子节点到父节点。不同条件可认为，以这个点往下的红点为0或者1或者2的时候有几种方法。
记录dp[i][j]为以i为父节点的子树从i往下的路径有j个红点的选择方法数。
接下来就是思考状态转移方程
对于
dp[0][x] 必定只有一种选择方案

对于
dp[1][x] 只要有一个子节点有1个即可，设u为其子节点

dp[1][x] = (dp[0][u1] + dp[1][u1]) * (dp[0][u2] + dp[1][u2]) * (dp[0][u3] + dp[1][u3]) .....
还要减去子节点都是0的情况
dp[1][x] -= 1;
还要考虑父节点为1的情况。
dp[1][x] += 1;

dp[2][x] 父节点为0时和父节点为1时
dp[2][x] = dp[2][u] + dp[1][u]

最后相加即可

