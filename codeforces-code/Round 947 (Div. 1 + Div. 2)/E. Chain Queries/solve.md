
题目在于有多个查询，点在不断变化，如何去维护这个状态呢？
再包括一点，就是目标是形成一条链，树上的链有什么特点
此处如果树上有一条黑链，这个黑链就有一定的特点，如果是一条两个节点在下面，上面一个节点的链，我们很容易可以发现：

这个链有且仅有两个节点的子节点没有黑色点，就是这个链的两端
并且还只有一个点它有两个黑色子节点，并且有一个白色父节点
这个链除了这两种点，剩下的点都是一个子黑节点，一个父黑节点

这种有链的情况可以得出以上三个结论，并且我们可以发现这个结论是充分必要的。
也就是说，满足以上三个结论，就一定符合链。

另外一种情况就是：

没有有两个子黑节点的点
只有一个没有子黑节点的点
其它的点都是一个黑色父节点一个黑色子节点

同时满足这个情况也是符合链。

我们转化为另一种语言

情况1：
(blackSonNum[x] >= 3) count == 0
(blackSonNum[x] == 2) count == 1 and parent[x] is not black
(blackSonNum[x] == 1) and parent[x] is black
(blackSonNum[x] == 0) count == 2

情况2：
(blackSonNum[x] >= 3) count == 0
(blackSonNum[x] == 2) count == 0
(blackSonNum[x] == 1) and parent[x] is black
(blackSonNum[x] == 0) count == 1

只要满足这个，就可以保证有链。

如何快速判断是否符合这个条件呢，就需要管理和维护这些数据。

一遍dfs我们就可以获得到
黑色子节点为 0 1 2 >=3 个的所有情况
父节点的颜色

现在只需要在修改的时候，针对这个维护数据进行修改即可。

本体脱离了树的固定式思维，更加灵活的维护了自己的数据，非常有意思的题目思路。